2024-10-09 13:33:34.439 +03:00 [INF] Starting up the app
2024-10-09 13:33:34.496 +03:00 [INF] User profile is available. Using 'C:\Users\semen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-09 13:33:34.603 +03:00 [INF] Now listening on: http://localhost:5153
2024-10-09 13:33:34.606 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 13:33:34.607 +03:00 [INF] Hosting environment: Development
2024-10-09 13:33:34.609 +03:00 [INF] Content root path: C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API
2024-10-09 13:33:35.413 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/ - null null
2024-10-09 13:33:35.554 +03:00 [INF] HTTP GET / responded 301 in 28.1488 ms
2024-10-09 13:33:35.564 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/ - 301 0 null 155.0369ms
2024-10-09 13:33:35.571 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.html - null null
2024-10-09 13:33:35.686 +03:00 [INF] HTTP GET /index.html responded 200 in 110.3269 ms
2024-10-09 13:33:35.690 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.html - 200 null text/html;charset=utf-8 118.2494ms
2024-10-09 13:33:35.758 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger-ui.css - null null
2024-10-09 13:33:35.762 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.css - null null
2024-10-09 13:33:35.763 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger-ui-bundle.js - null null
2024-10-09 13:33:35.765 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger-ui-standalone-preset.js - null null
2024-10-09 13:33:35.766 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.js - null null
2024-10-09 13:33:35.776 +03:00 [INF] HTTP GET /index.js responded 200 in 0.6782 ms
2024-10-09 13:33:35.781 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.js - 200 null application/javascript;charset=utf-8 15.1524ms
2024-10-09 13:33:35.784 +03:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2024-10-09 13:33:35.790 +03:00 [INF] HTTP GET /index.css responded 200 in 24.3003 ms
2024-10-09 13:33:35.795 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.css - 200 202 text/css 32.957ms
2024-10-09 13:33:35.796 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-10-09 13:33:35.796 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-10-09 13:33:35.806 +03:00 [INF] HTTP GET /swagger-ui.css responded 200 in 41.3343 ms
2024-10-09 13:33:35.806 +03:00 [INF] HTTP GET /swagger-ui-standalone-preset.js responded 200 in 33.7787 ms
2024-10-09 13:33:35.812 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger-ui-standalone-preset.js - 200 230293 text/javascript 46.6412ms
2024-10-09 13:33:35.812 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger-ui.css - 200 152034 text/css 53.9906ms
2024-10-09 13:33:35.818 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-10-09 13:33:35.823 +03:00 [INF] HTTP GET /swagger-ui-bundle.js responded 200 in 53.9832 ms
2024-10-09 13:33:35.826 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger-ui-bundle.js - 200 1452753 text/javascript 62.8624ms
2024-10-09 13:33:37.422 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - null null
2024-10-09 13:33:37.447 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/favicon-32x32.png - null null
2024-10-09 13:33:37.451 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-10-09 13:33:37.452 +03:00 [INF] HTTP GET /favicon-32x32.png responded 200 in 2.2029 ms
2024-10-09 13:33:37.455 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/favicon-32x32.png - 200 628 image/png 8.0519ms
2024-10-09 13:33:37.565 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 140.4772 ms
2024-10-09 13:33:37.568 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 146.2042ms
2024-10-09 13:35:19.105 +03:00 [INF] Application is shutting down...
2024-10-09 13:35:28.480 +03:00 [INF] Starting up the app
2024-10-09 13:35:28.543 +03:00 [INF] User profile is available. Using 'C:\Users\semen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-09 13:35:28.599 +03:00 [INF] Now listening on: http://localhost:5153
2024-10-09 13:35:28.602 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 13:35:28.603 +03:00 [INF] Hosting environment: Development
2024-10-09 13:35:28.604 +03:00 [INF] Content root path: C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API
2024-10-09 13:35:29.258 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.html - null null
2024-10-09 13:35:29.455 +03:00 [INF] HTTP GET /index.html responded 200 in 126.5975 ms
2024-10-09 13:35:29.461 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.html - 200 null text/html;charset=utf-8 203.881ms
2024-10-09 13:35:29.520 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.js - null null
2024-10-09 13:35:29.528 +03:00 [INF] HTTP GET /index.js responded 200 in 1.5907 ms
2024-10-09 13:35:29.530 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.js - 200 null application/javascript;charset=utf-8 10.0021ms
2024-10-09 13:35:31.047 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - null null
2024-10-09 13:35:31.191 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 138.0846 ms
2024-10-09 13:35:31.194 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 146.4402ms
2024-10-09 13:36:00.364 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/register - application/json 56
2024-10-09 13:36:00.375 +03:00 [INF] CORS policy execution successful.
2024-10-09 13:36:00.379 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:36:00.417 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ToDoList.Application.DTOs.User.UserCreateDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 13:36:00.935 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-09 13:36:00.973 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Register (ToDoList.API) in 549.4639ms
2024-10-09 13:36:00.975 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:36:00.976 +03:00 [INF] HTTP POST /api/Auth/register responded 400 in 599.3706 ms
2024-10-09 13:36:00.980 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/register - 400 null application/problem+json; charset=utf-8 615.8137ms
2024-10-09 13:36:17.247 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/register - application/json 58
2024-10-09 13:36:17.252 +03:00 [INF] CORS policy execution successful.
2024-10-09 13:36:17.253 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:36:17.255 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ToDoList.Application.DTOs.User.UserCreateDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 13:36:17.289 +03:00 [INF] Executing action method ToDoList.API.Controllers.AuthController.Register (ToDoList.API) - Validation state: "Valid"
2024-10-09 13:36:17.295 +03:00 [INF] Creating new user with email: cladki@gmail.com
2024-10-09 13:36:18.871 +03:00 [INF] Executed DbCommand (103ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Email", t."PasswordHash", t0."Id", t0."CreatedTime", t0."Description", t0."IsCompleted", t0."LastUpdateTime", t0."Title", t0."UserId"
FROM (
    SELECT u."Id", u."Email", u."PasswordHash"
    FROM "Users" AS u
    WHERE u."Email" = @__email_0
    LIMIT 1
) AS t
LEFT JOIN "Tasks" AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id"
2024-10-09 13:36:19.140 +03:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[@p0='?', @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "PasswordHash")
VALUES (@p0, @p1)
RETURNING "Id";
2024-10-09 13:36:19.173 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ToDoList.Infrastructure.DbContext.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "Username" отношения "Users" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "Username" отношения "Users" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ColumnName: Username
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "Username" отношения "Users" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "Username" отношения "Users" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ColumnName: Username
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-10-09 13:36:19.198 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Register (ToDoList.API) in 1939.6741ms
2024-10-09 13:36:19.201 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:36:19.204 +03:00 [ERR] HTTP POST /api/Auth/register responded 500 in 1951.6817 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "Username" отношения "Users" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "Username" отношения "Users" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ColumnName: Username
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ToDoList.Infrastructure.Repositories.UserRepository.AddAsync(User user) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.Infrastructure\Repositories\UserRepository.cs:line 41
   at ToDoList.Application.Services.Implementations.UserService.CreateUserAsync(UserCreateDto userDto) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.Application\Services\Implementations\UserService.cs:line 69
   at ToDoList.API.Controllers.AuthController.Register(UserCreateDto userDto) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API\Controllers\AuthController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-10-09 13:36:19.248 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "Username" отношения "Users" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "Username" отношения "Users" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: Users
    ColumnName: Username
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ToDoList.Infrastructure.Repositories.UserRepository.AddAsync(User user) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.Infrastructure\Repositories\UserRepository.cs:line 41
   at ToDoList.Application.Services.Implementations.UserService.CreateUserAsync(UserCreateDto userDto) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.Application\Services\Implementations\UserService.cs:line 69
   at ToDoList.API.Controllers.AuthController.Register(UserCreateDto userDto) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API\Controllers\AuthController.cs:line 23
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-09 13:36:19.284 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/register - 500 null text/plain; charset=utf-8 2037.535ms
2024-10-09 13:36:31.063 +03:00 [INF] Application is shutting down...
2024-10-09 13:37:12.513 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-10-09 13:37:12.562 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-10-09 13:37:12.607 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-10-09 13:37:12.647 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2024-10-09 13:37:12.650 +03:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-10-09 13:37:12.664 +03:00 [INF] Applying migration '20241009103653_User update'.
2024-10-09 13:37:12.712 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" DROP COLUMN "Username";
2024-10-09 13:37:12.716 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241009103653_User update', '8.0.8');
2024-10-09 13:39:17.818 +03:00 [INF] Starting up the app
2024-10-09 13:39:17.869 +03:00 [INF] User profile is available. Using 'C:\Users\semen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-09 13:39:17.927 +03:00 [INF] Now listening on: http://localhost:5153
2024-10-09 13:39:17.931 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 13:39:17.932 +03:00 [INF] Hosting environment: Development
2024-10-09 13:39:17.933 +03:00 [INF] Content root path: C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API
2024-10-09 13:39:18.366 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.html - null null
2024-10-09 13:39:18.584 +03:00 [INF] HTTP GET /index.html responded 200 in 135.9810 ms
2024-10-09 13:39:18.591 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.html - 200 null text/html;charset=utf-8 225.4544ms
2024-10-09 13:39:18.665 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.js - null null
2024-10-09 13:39:18.674 +03:00 [INF] HTTP GET /index.js responded 200 in 1.9902 ms
2024-10-09 13:39:18.677 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.js - 200 null application/javascript;charset=utf-8 11.3066ms
2024-10-09 13:39:20.101 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - null null
2024-10-09 13:39:20.243 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 136.0158 ms
2024-10-09 13:39:20.246 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 144.2982ms
2024-10-09 13:40:12.446 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/register - application/json 58
2024-10-09 13:40:12.461 +03:00 [INF] CORS policy execution successful.
2024-10-09 13:40:12.468 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:40:12.500 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ToDoList.Application.DTOs.User.UserCreateDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 13:40:12.840 +03:00 [INF] Executing action method ToDoList.API.Controllers.AuthController.Register (ToDoList.API) - Validation state: "Valid"
2024-10-09 13:40:12.848 +03:00 [INF] Creating new user with email: cladki@gmail.com
2024-10-09 13:40:16.060 +03:00 [INF] Executed DbCommand (174ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Email", t."PasswordHash", t0."Id", t0."CreatedTime", t0."Description", t0."IsCompleted", t0."LastUpdateTime", t0."Title", t0."UserId"
FROM (
    SELECT u."Id", u."Email", u."PasswordHash"
    FROM "Users" AS u
    WHERE u."Email" = @__email_0
    LIMIT 1
) AS t
LEFT JOIN "Tasks" AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id"
2024-10-09 13:40:16.668 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?', @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "PasswordHash")
VALUES (@p0, @p1)
RETURNING "Id";
2024-10-09 13:40:16.773 +03:00 [INF] User with ID 2 created successfully
2024-10-09 13:40:16.828 +03:00 [INF] Executed action method ToDoList.API.Controllers.AuthController.Register (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3973.3231ms.
2024-10-09 13:40:16.858 +03:00 [INF] Executing OkObjectResult, writing value of type 'ToDoList.Application.DTOs.User.UserGetDto'.
2024-10-09 13:40:16.924 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Register (ToDoList.API) in 4407.6719ms
2024-10-09 13:40:16.932 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:40:16.941 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 4477.1058 ms
2024-10-09 13:40:16.990 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/register - 200 null application/json; charset=utf-8 4544.1671ms
2024-10-09 13:40:30.958 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/login - application/json 58
2024-10-09 13:40:30.965 +03:00 [INF] CORS policy execution successful.
2024-10-09 13:40:30.968 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Login (ToDoList.API)'
2024-10-09 13:40:30.980 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ToDoList.Application.DTOs.User.UserLoginDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 13:40:31.002 +03:00 [INF] Executing action method ToDoList.API.Controllers.AuthController.Login (ToDoList.API) - Validation state: "Valid"
2024-10-09 13:40:31.010 +03:00 [INF] Fetching user with email cladki@gmail.com
2024-10-09 13:40:31.087 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Email", t."PasswordHash", t0."Id", t0."CreatedTime", t0."Description", t0."IsCompleted", t0."LastUpdateTime", t0."Title", t0."UserId"
FROM (
    SELECT u."Id", u."Email", u."PasswordHash"
    FROM "Users" AS u
    WHERE u."Email" = @__email_0
    LIMIT 1
) AS t
LEFT JOIN "Tasks" AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id"
2024-10-09 13:40:31.106 +03:00 [INF] User with email cladki@gmail.com fetched successfully
2024-10-09 13:40:31.109 +03:00 [WRN] Authentication failed for email cladki@gmail.com
2024-10-09 13:40:31.111 +03:00 [INF] Executed action method ToDoList.API.Controllers.AuthController.Login (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 106.7064ms.
2024-10-09 13:40:31.115 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-10-09 13:40:31.118 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Login (ToDoList.API) in 130.0012ms
2024-10-09 13:40:31.120 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Login (ToDoList.API)'
2024-10-09 13:40:31.122 +03:00 [INF] HTTP POST /api/Auth/login responded 401 in 154.8529 ms
2024-10-09 13:40:31.126 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/login - 401 null text/plain; charset=utf-8 167.7586ms
2024-10-09 13:43:01.762 +03:00 [INF] Application is shutting down...
2024-10-09 13:43:05.456 +03:00 [INF] Starting up the app
2024-10-09 13:43:05.558 +03:00 [INF] User profile is available. Using 'C:\Users\semen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-09 13:43:05.668 +03:00 [INF] Now listening on: http://localhost:5153
2024-10-09 13:43:05.672 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 13:43:05.674 +03:00 [INF] Hosting environment: Development
2024-10-09 13:43:05.676 +03:00 [INF] Content root path: C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API
2024-10-09 13:43:06.127 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.html - null null
2024-10-09 13:43:06.452 +03:00 [INF] HTTP GET /index.html responded 200 in 219.6315 ms
2024-10-09 13:43:06.461 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.html - 200 null text/html;charset=utf-8 335.8905ms
2024-10-09 13:43:06.530 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.js - null null
2024-10-09 13:43:06.539 +03:00 [INF] HTTP GET /index.js responded 200 in 2.3402 ms
2024-10-09 13:43:06.543 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.js - 200 null application/javascript;charset=utf-8 13.8921ms
2024-10-09 13:43:09.155 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - null null
2024-10-09 13:43:09.420 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 252.8041 ms
2024-10-09 13:43:09.427 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 271.9064ms
2024-10-09 13:49:30.523 +03:00 [INF] Application is shutting down...
2024-10-09 13:49:45.284 +03:00 [INF] Starting up the app
2024-10-09 13:49:45.366 +03:00 [INF] User profile is available. Using 'C:\Users\semen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-09 13:49:45.447 +03:00 [INF] Now listening on: http://localhost:5153
2024-10-09 13:49:45.450 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 13:49:45.451 +03:00 [INF] Hosting environment: Development
2024-10-09 13:49:45.453 +03:00 [INF] Content root path: C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API
2024-10-09 13:49:46.113 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.html - null null
2024-10-09 13:49:46.305 +03:00 [INF] HTTP GET /index.html responded 200 in 126.5834 ms
2024-10-09 13:49:46.311 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.html - 200 null text/html;charset=utf-8 199.7948ms
2024-10-09 13:49:46.389 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.js - null null
2024-10-09 13:49:46.399 +03:00 [INF] HTTP GET /index.js responded 200 in 2.7005 ms
2024-10-09 13:49:46.402 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.js - 200 null application/javascript;charset=utf-8 13.2015ms
2024-10-09 13:49:47.971 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - null null
2024-10-09 13:49:48.130 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 149.3079 ms
2024-10-09 13:49:48.134 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 162.8304ms
2024-10-09 13:49:59.864 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/login - application/json 58
2024-10-09 13:49:59.881 +03:00 [INF] CORS policy execution successful.
2024-10-09 13:49:59.889 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Login (ToDoList.API)'
2024-10-09 13:49:59.920 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ToDoList.Application.DTOs.User.UserLoginDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 13:50:00.867 +03:00 [INF] Executing action method ToDoList.API.Controllers.AuthController.Login (ToDoList.API) - Validation state: "Valid"
2024-10-09 13:50:00.880 +03:00 [INF] Fetching user with email cladki@gmail.com
2024-10-09 13:50:04.208 +03:00 [INF] Executed DbCommand (213ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Email", t."PasswordHash", t0."Id", t0."CreatedTime", t0."Description", t0."IsCompleted", t0."LastUpdateTime", t0."Title", t0."UserId"
FROM (
    SELECT u."Id", u."Email", u."PasswordHash"
    FROM "Users" AS u
    WHERE u."Email" = @__email_0
    LIMIT 1
) AS t
LEFT JOIN "Tasks" AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id"
2024-10-09 13:50:04.511 +03:00 [INF] User with email cladki@gmail.com fetched successfully
2024-10-09 13:50:04.519 +03:00 [WRN] Authentication failed for email cladki@gmail.com
2024-10-09 13:50:04.545 +03:00 [INF] Executed action method ToDoList.API.Controllers.AuthController.Login (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 3658.4034ms.
2024-10-09 13:50:04.568 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-10-09 13:50:04.588 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Login (ToDoList.API) in 4653.1605ms
2024-10-09 13:50:04.593 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Login (ToDoList.API)'
2024-10-09 13:50:04.600 +03:00 [INF] HTTP POST /api/Auth/login responded 401 in 4715.2965 ms
2024-10-09 13:50:04.635 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/login - 401 null text/plain; charset=utf-8 4771.2005ms
2024-10-09 13:50:21.859 +03:00 [INF] Application is shutting down...
2024-10-09 13:50:42.759 +03:00 [INF] Starting up the app
2024-10-09 13:50:42.894 +03:00 [INF] User profile is available. Using 'C:\Users\semen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-09 13:50:43.163 +03:00 [INF] Now listening on: http://localhost:5153
2024-10-09 13:50:43.168 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 13:50:43.170 +03:00 [INF] Hosting environment: Development
2024-10-09 13:50:43.172 +03:00 [INF] Content root path: C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API
2024-10-09 13:50:43.466 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.html - null null
2024-10-09 13:50:43.961 +03:00 [INF] HTTP GET /index.html responded 200 in 252.9136 ms
2024-10-09 13:50:43.971 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.html - 200 null text/html;charset=utf-8 507.2388ms
2024-10-09 13:50:44.074 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.js - null null
2024-10-09 13:50:44.103 +03:00 [INF] HTTP GET /index.js responded 200 in 20.8582 ms
2024-10-09 13:50:44.107 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.js - 200 null application/javascript;charset=utf-8 33.4404ms
2024-10-09 13:50:45.931 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - null null
2024-10-09 13:50:46.114 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 179.2777 ms
2024-10-09 13:50:46.117 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 186.6355ms
2024-10-09 13:51:01.027 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/register - application/json 46
2024-10-09 13:51:01.044 +03:00 [INF] CORS policy execution successful.
2024-10-09 13:51:01.052 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:51:01.086 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ToDoList.Application.DTOs.User.UserCreateDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 13:51:01.655 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-10-09 13:51:01.728 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Register (ToDoList.API) in 632.28ms
2024-10-09 13:51:01.732 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:51:01.735 +03:00 [INF] HTTP POST /api/Auth/register responded 400 in 686.6789 ms
2024-10-09 13:51:01.741 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/register - 400 null application/problem+json; charset=utf-8 714.3393ms
2024-10-09 13:51:17.097 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/register - application/json 56
2024-10-09 13:51:17.125 +03:00 [INF] CORS policy execution successful.
2024-10-09 13:51:17.149 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:51:17.165 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ToDoList.Application.DTOs.User.UserCreateDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 13:51:17.198 +03:00 [INF] Executing action method ToDoList.API.Controllers.AuthController.Register (ToDoList.API) - Validation state: "Valid"
2024-10-09 13:51:17.206 +03:00 [INF] Creating new user with email: test1@gmail.com
2024-10-09 13:51:19.827 +03:00 [INF] Executed DbCommand (131ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Email", t."PasswordHash", t0."Id", t0."CreatedTime", t0."Description", t0."IsCompleted", t0."LastUpdateTime", t0."Title", t0."UserId"
FROM (
    SELECT u."Id", u."Email", u."PasswordHash"
    FROM "Users" AS u
    WHERE u."Email" = @__email_0
    LIMIT 1
) AS t
LEFT JOIN "Tasks" AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id"
2024-10-09 13:51:20.198 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?', @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "PasswordHash")
VALUES (@p0, @p1)
RETURNING "Id";
2024-10-09 13:51:20.257 +03:00 [INF] User with ID 3 created successfully
2024-10-09 13:51:20.268 +03:00 [INF] Executed action method ToDoList.API.Controllers.AuthController.Register (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3060.4343ms.
2024-10-09 13:51:20.278 +03:00 [INF] Executing OkObjectResult, writing value of type 'ToDoList.Application.DTOs.User.UserGetDto'.
2024-10-09 13:51:20.291 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Register (ToDoList.API) in 3121.1627ms
2024-10-09 13:51:20.295 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:51:20.299 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 3150.1970 ms
2024-10-09 13:51:20.315 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/register - 200 null application/json; charset=utf-8 3218.7383ms
2024-10-09 13:52:09.608 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/register - application/json 56
2024-10-09 13:52:09.625 +03:00 [INF] CORS policy execution successful.
2024-10-09 13:52:09.627 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:52:09.629 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ToDoList.Application.DTOs.User.UserCreateDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 13:52:09.638 +03:00 [INF] Executing action method ToDoList.API.Controllers.AuthController.Register (ToDoList.API) - Validation state: "Valid"
2024-10-09 13:52:09.641 +03:00 [INF] Creating new user with email: test2@gmail.com
2024-10-09 13:52:09.669 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Email", t."PasswordHash", t0."Id", t0."CreatedTime", t0."Description", t0."IsCompleted", t0."LastUpdateTime", t0."Title", t0."UserId"
FROM (
    SELECT u."Id", u."Email", u."PasswordHash"
    FROM "Users" AS u
    WHERE u."Email" = @__email_0
    LIMIT 1
) AS t
LEFT JOIN "Tasks" AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id"
2024-10-09 13:52:09.712 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?', @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "PasswordHash")
VALUES (@p0, @p1)
RETURNING "Id";
2024-10-09 13:52:09.717 +03:00 [INF] User with ID 4 created successfully
2024-10-09 13:52:09.720 +03:00 [INF] Executed action method ToDoList.API.Controllers.AuthController.Register (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 78.6695ms.
2024-10-09 13:52:09.723 +03:00 [INF] Executing OkObjectResult, writing value of type 'ToDoList.Application.DTOs.User.UserGetDto'.
2024-10-09 13:52:09.726 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Register (ToDoList.API) in 93.4611ms
2024-10-09 13:52:09.729 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:52:09.731 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 104.3276 ms
2024-10-09 13:52:09.734 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/register - 200 null application/json; charset=utf-8 126.3565ms
2024-10-09 13:52:42.078 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/login - application/json 56
2024-10-09 13:52:42.091 +03:00 [INF] CORS policy execution successful.
2024-10-09 13:52:42.093 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Login (ToDoList.API)'
2024-10-09 13:52:42.100 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ToDoList.Application.DTOs.User.UserLoginDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 13:52:42.107 +03:00 [INF] Executing action method ToDoList.API.Controllers.AuthController.Login (ToDoList.API) - Validation state: "Valid"
2024-10-09 13:52:42.113 +03:00 [INF] Fetching user with email test2@gmail.com
2024-10-09 13:52:42.147 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Email", t."PasswordHash", t0."Id", t0."CreatedTime", t0."Description", t0."IsCompleted", t0."LastUpdateTime", t0."Title", t0."UserId"
FROM (
    SELECT u."Id", u."Email", u."PasswordHash"
    FROM "Users" AS u
    WHERE u."Email" = @__email_0
    LIMIT 1
) AS t
LEFT JOIN "Tasks" AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id"
2024-10-09 13:52:42.172 +03:00 [INF] User with email test2@gmail.com fetched successfully
2024-10-09 13:53:00.638 +03:00 [WRN] Authentication failed for email test2@gmail.com
2024-10-09 13:53:00.641 +03:00 [INF] Executed action method ToDoList.API.Controllers.AuthController.Login (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.UnauthorizedObjectResult in 18531.1955ms.
2024-10-09 13:53:00.645 +03:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2024-10-09 13:53:00.650 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Login (ToDoList.API) in 18546.0138ms
2024-10-09 13:53:00.654 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Login (ToDoList.API)'
2024-10-09 13:53:00.657 +03:00 [INF] HTTP POST /api/Auth/login responded 401 in 18564.4334 ms
2024-10-09 13:53:00.663 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/login - 401 null text/plain; charset=utf-8 18585.2389ms
2024-10-09 13:53:19.783 +03:00 [INF] Starting up the app
2024-10-09 13:53:19.931 +03:00 [INF] User profile is available. Using 'C:\Users\semen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-09 13:53:20.150 +03:00 [INF] Now listening on: http://localhost:5153
2024-10-09 13:53:20.155 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 13:53:20.157 +03:00 [INF] Hosting environment: Development
2024-10-09 13:53:20.159 +03:00 [INF] Content root path: C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API
2024-10-09 13:53:20.341 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.html - null null
2024-10-09 13:53:20.732 +03:00 [INF] HTTP GET /index.html responded 200 in 215.0738 ms
2024-10-09 13:53:20.742 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.html - 200 null text/html;charset=utf-8 403.0772ms
2024-10-09 13:53:20.828 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.js - null null
2024-10-09 13:53:20.844 +03:00 [INF] HTTP GET /index.js responded 200 in 9.9060 ms
2024-10-09 13:53:20.849 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.js - 200 null application/javascript;charset=utf-8 21.1052ms
2024-10-09 13:53:22.886 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - null null
2024-10-09 13:53:23.028 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 137.9296 ms
2024-10-09 13:53:23.031 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 144.8612ms
2024-10-09 13:54:16.086 +03:00 [INF] Starting up the app
2024-10-09 13:54:16.187 +03:00 [INF] User profile is available. Using 'C:\Users\semen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-09 13:54:16.332 +03:00 [INF] Now listening on: http://localhost:5153
2024-10-09 13:54:16.335 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 13:54:16.336 +03:00 [INF] Hosting environment: Development
2024-10-09 13:54:16.337 +03:00 [INF] Content root path: C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API
2024-10-09 13:54:16.532 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.html - null null
2024-10-09 13:54:16.829 +03:00 [INF] HTTP GET /index.html responded 200 in 151.3804 ms
2024-10-09 13:54:16.835 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.html - 200 null text/html;charset=utf-8 305.7395ms
2024-10-09 13:54:16.901 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.js - null null
2024-10-09 13:54:16.925 +03:00 [INF] HTTP GET /index.js responded 200 in 16.5136 ms
2024-10-09 13:54:16.928 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.js - 200 null application/javascript;charset=utf-8 26.2895ms
2024-10-09 13:54:18.885 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - null null
2024-10-09 13:54:19.039 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 146.1827 ms
2024-10-09 13:54:19.043 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 157.9161ms
2024-10-09 13:54:34.749 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/register - application/json 56
2024-10-09 13:54:34.767 +03:00 [INF] CORS policy execution successful.
2024-10-09 13:54:34.776 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:54:34.813 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ToDoList.Application.DTOs.User.UserCreateDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 13:54:35.223 +03:00 [INF] Executing action method ToDoList.API.Controllers.AuthController.Register (ToDoList.API) - Validation state: "Valid"
2024-10-09 13:54:35.230 +03:00 [INF] Creating new user with email: test3@gmail.com
2024-10-09 13:54:37.827 +03:00 [INF] Executed DbCommand (162ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Email", t."PasswordHash", t0."Id", t0."CreatedTime", t0."Description", t0."IsCompleted", t0."LastUpdateTime", t0."Title", t0."UserId"
FROM (
    SELECT u."Id", u."Email", u."PasswordHash"
    FROM "Users" AS u
    WHERE u."Email" = @__email_0
    LIMIT 1
) AS t
LEFT JOIN "Tasks" AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id"
2024-10-09 13:54:38.251 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@p0='?', @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "PasswordHash")
VALUES (@p0, @p1)
RETURNING "Id";
2024-10-09 13:54:38.335 +03:00 [INF] User with ID 5 created successfully
2024-10-09 13:54:38.349 +03:00 [INF] Executed action method ToDoList.API.Controllers.AuthController.Register (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3115.0895ms.
2024-10-09 13:54:38.365 +03:00 [INF] Executing OkObjectResult, writing value of type 'ToDoList.Application.DTOs.User.UserGetDto'.
2024-10-09 13:54:38.391 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Register (ToDoList.API) in 3569.9223ms
2024-10-09 13:54:38.398 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 13:54:38.405 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 3632.5759 ms
2024-10-09 13:54:38.460 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/register - 200 null application/json; charset=utf-8 3711.19ms
2024-10-09 13:55:16.573 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/login - application/json 56
2024-10-09 13:55:16.588 +03:00 [INF] CORS policy execution successful.
2024-10-09 13:55:16.591 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Login (ToDoList.API)'
2024-10-09 13:55:16.601 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ToDoList.Application.DTOs.User.UserLoginDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 13:55:16.620 +03:00 [INF] Executing action method ToDoList.API.Controllers.AuthController.Login (ToDoList.API) - Validation state: "Valid"
2024-10-09 13:55:22.716 +03:00 [INF] Fetching user with email test3@gmail.com
2024-10-09 13:55:22.739 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Email", t."PasswordHash", t0."Id", t0."CreatedTime", t0."Description", t0."IsCompleted", t0."LastUpdateTime", t0."Title", t0."UserId"
FROM (
    SELECT u."Id", u."Email", u."PasswordHash"
    FROM "Users" AS u
    WHERE u."Email" = @__email_0
    LIMIT 1
) AS t
LEFT JOIN "Tasks" AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id"
2024-10-09 13:55:22.762 +03:00 [INF] User with email test3@gmail.com fetched successfully
2024-10-09 13:55:23.175 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Login (ToDoList.API) in 6570.5578ms
2024-10-09 13:55:23.179 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Login (ToDoList.API)'
2024-10-09 13:55:23.182 +03:00 [ERR] HTTP POST /api/Auth/login responded 500 in 6591.7887 ms
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'http://www.w3.org/2001/04/xmldsig-more#hmac-sha256' requires a key size of at least '128' bits. Key '[PII of type 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', is of size: '72'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.CreateJwtSecurityTokenPrivate(String issuer, String audience, IList`1 audiences, ClaimsIdentity subject, Nullable`1 notBefore, Nullable`1 expires, Nullable`1 issuedAt, SigningCredentials signingCredentials, EncryptingCredentials encryptingCredentials, IDictionary`2 claimCollection, String tokenType, IDictionary`2 additionalHeaderClaims, IDictionary`2 additionalInnerHeaderClaims)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.CreateToken(SecurityTokenDescriptor tokenDescriptor)
   at ToDoList.Application.Services.Implementations.AuthService.GenerateJwtToken(UserGetDto user) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.Application\Services\Implementations\AuthService.cs:line 55
   at ToDoList.Application.Services.Implementations.AuthService.AuthenticateAsync(UserLoginDto loginDto) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.Application\Services\Implementations\AuthService.cs:line 34
   at ToDoList.API.Controllers.AuthController.Login(UserLoginDto loginDto) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API\Controllers\AuthController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-10-09 13:55:23.264 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: IDX10653: The encryption algorithm 'http://www.w3.org/2001/04/xmldsig-more#hmac-sha256' requires a key size of at least '128' bits. Key '[PII of type 'Microsoft.IdentityModel.Tokens.SymmetricSecurityKey' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', is of size: '72'. (Parameter 'key')
   at Microsoft.IdentityModel.Tokens.SymmetricSignatureProvider..ctor(SecurityKey key, String algorithm, Boolean willCreateSignatures)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateSignatureProvider(SecurityKey key, String algorithm, Boolean willCreateSignatures, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm, Boolean cacheProvider)
   at Microsoft.IdentityModel.Tokens.CryptoProviderFactory.CreateForSigning(SecurityKey key, String algorithm)
   at Microsoft.IdentityModel.JsonWebTokens.JwtTokenUtilities.CreateEncodedSignature(String input, SigningCredentials signingCredentials)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.CreateJwtSecurityTokenPrivate(String issuer, String audience, IList`1 audiences, ClaimsIdentity subject, Nullable`1 notBefore, Nullable`1 expires, Nullable`1 issuedAt, SigningCredentials signingCredentials, EncryptingCredentials encryptingCredentials, IDictionary`2 claimCollection, String tokenType, IDictionary`2 additionalHeaderClaims, IDictionary`2 additionalInnerHeaderClaims)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.CreateToken(SecurityTokenDescriptor tokenDescriptor)
   at ToDoList.Application.Services.Implementations.AuthService.GenerateJwtToken(UserGetDto user) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.Application\Services\Implementations\AuthService.cs:line 55
   at ToDoList.Application.Services.Implementations.AuthService.AuthenticateAsync(UserLoginDto loginDto) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.Application\Services\Implementations\AuthService.cs:line 34
   at ToDoList.API.Controllers.AuthController.Login(UserLoginDto loginDto) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API\Controllers\AuthController.cs:line 35
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-09 13:55:23.296 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/login - 500 null text/plain; charset=utf-8 6723.1389ms
2024-10-09 13:56:03.709 +03:00 [INF] Starting up the app
2024-10-09 13:56:03.820 +03:00 [INF] User profile is available. Using 'C:\Users\semen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-09 13:56:03.975 +03:00 [INF] Now listening on: http://localhost:5153
2024-10-09 13:56:03.978 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 13:56:03.980 +03:00 [INF] Hosting environment: Development
2024-10-09 13:56:03.981 +03:00 [INF] Content root path: C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API
2024-10-09 13:56:04.056 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.html - null null
2024-10-09 13:56:04.351 +03:00 [INF] HTTP GET /index.html responded 200 in 151.8333 ms
2024-10-09 13:56:04.360 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.html - 200 null text/html;charset=utf-8 306.062ms
2024-10-09 13:56:04.436 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.js - null null
2024-10-09 13:56:04.456 +03:00 [INF] HTTP GET /index.js responded 200 in 14.6353 ms
2024-10-09 13:56:04.460 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.js - 200 null application/javascript;charset=utf-8 23.8124ms
2024-10-09 13:56:06.176 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - null null
2024-10-09 13:56:06.311 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 130.5780 ms
2024-10-09 13:56:06.314 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 138.0181ms
2024-10-09 13:56:14.111 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/login - application/json 56
2024-10-09 13:56:14.128 +03:00 [INF] CORS policy execution successful.
2024-10-09 13:56:14.137 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Login (ToDoList.API)'
2024-10-09 13:56:14.178 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ToDoList.Application.DTOs.User.UserLoginDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 13:56:14.617 +03:00 [INF] Executing action method ToDoList.API.Controllers.AuthController.Login (ToDoList.API) - Validation state: "Valid"
2024-10-09 13:56:18.691 +03:00 [INF] Fetching user with email test3@gmail.com
2024-10-09 13:56:21.597 +03:00 [INF] Executed DbCommand (161ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Email", t."PasswordHash", t0."Id", t0."CreatedTime", t0."Description", t0."IsCompleted", t0."LastUpdateTime", t0."Title", t0."UserId"
FROM (
    SELECT u."Id", u."Email", u."PasswordHash"
    FROM "Users" AS u
    WHERE u."Email" = @__email_0
    LIMIT 1
) AS t
LEFT JOIN "Tasks" AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id"
2024-10-09 13:56:21.801 +03:00 [INF] User with email test3@gmail.com fetched successfully
2024-10-09 13:56:21.914 +03:00 [INF] Executed action method ToDoList.API.Controllers.AuthController.Login (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7285.9332ms.
2024-10-09 13:56:21.938 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-10-09 13:56:21.988 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Login (ToDoList.API) in 7799.1502ms
2024-10-09 13:56:21.991 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Login (ToDoList.API)'
2024-10-09 13:56:21.995 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 7863.3807 ms
2024-10-09 13:56:22.017 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/login - 200 null application/json; charset=utf-8 7906.0575ms
2024-10-09 14:34:01.319 +03:00 [INF] Starting up the app
2024-10-09 14:34:01.414 +03:00 [INF] User profile is available. Using 'C:\Users\semen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-09 14:34:01.570 +03:00 [INF] Now listening on: http://localhost:5153
2024-10-09 14:34:01.580 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 14:34:01.589 +03:00 [INF] Hosting environment: Development
2024-10-09 14:34:01.589 +03:00 [INF] Content root path: C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API
2024-10-09 14:34:01.798 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.html - null null
2024-10-09 14:34:02.143 +03:00 [INF] HTTP GET /index.html responded 200 in 153.8412 ms
2024-10-09 14:34:02.151 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.html - 200 null text/html;charset=utf-8 355.6876ms
2024-10-09 14:34:02.237 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.js - null null
2024-10-09 14:34:02.263 +03:00 [INF] HTTP GET /index.js responded 200 in 10.9356 ms
2024-10-09 14:34:02.266 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.js - 200 null application/javascript;charset=utf-8 29.0622ms
2024-10-09 15:16:11.361 +03:00 [INF] Starting up the app
2024-10-09 15:16:11.444 +03:00 [INF] User profile is available. Using 'C:\Users\semen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-09 15:16:11.540 +03:00 [INF] Now listening on: http://localhost:5153
2024-10-09 15:16:11.543 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 15:16:11.545 +03:00 [INF] Hosting environment: Development
2024-10-09 15:16:11.547 +03:00 [INF] Content root path: C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API
2024-10-09 15:16:12.062 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.html - null null
2024-10-09 15:16:12.282 +03:00 [INF] HTTP GET /index.html responded 200 in 139.8090 ms
2024-10-09 15:16:12.290 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.html - 200 null text/html;charset=utf-8 229.3471ms
2024-10-09 15:16:12.351 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.js - null null
2024-10-09 15:16:12.360 +03:00 [INF] HTTP GET /index.js responded 200 in 2.5984 ms
2024-10-09 15:16:12.363 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.js - 200 null application/javascript;charset=utf-8 12.6693ms
2024-10-09 15:16:13.968 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - null null
2024-10-09 15:16:14.174 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 199.3949 ms
2024-10-09 15:16:14.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 209.646ms
2024-10-09 15:16:24.606 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/api/Users - null null
2024-10-09 15:16:24.619 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.UsersController.GetAllUsers (ToDoList.API)'
2024-10-09 15:16:24.653 +03:00 [INF] Route matched with {action = "GetAllUsers", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ToDoList.Application.DTOs.User.UserGetDto]]] GetAllUsers() on controller ToDoList.API.Controllers.UsersController (ToDoList.API).
2024-10-09 15:16:25.535 +03:00 [INF] Executing action method ToDoList.API.Controllers.UsersController.GetAllUsers (ToDoList.API) - Validation state: "Valid"
2024-10-09 15:16:25.549 +03:00 [INF] Fetching all users
2024-10-09 15:16:28.767 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."PasswordHash"
FROM "Users" AS u
2024-10-09 15:16:29.070 +03:00 [INF] Fetched 4 users
2024-10-09 15:16:29.100 +03:00 [INF] Executed action method ToDoList.API.Controllers.UsersController.GetAllUsers (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3542.6011ms.
2024-10-09 15:16:29.135 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ToDoList.Application.DTOs.User.UserGetDto, ToDoList.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 15:16:29.263 +03:00 [INF] Executed action ToDoList.API.Controllers.UsersController.GetAllUsers (ToDoList.API) in 4593.6311ms
2024-10-09 15:16:29.269 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.UsersController.GetAllUsers (ToDoList.API)'
2024-10-09 15:16:29.280 +03:00 [INF] HTTP GET /api/Users responded 200 in 4664.8081 ms
2024-10-09 15:16:29.331 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/api/Users - 200 null application/json; charset=utf-8 4724.1643ms
2024-10-09 15:17:22.316 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/register - application/json 58
2024-10-09 15:17:22.328 +03:00 [INF] CORS policy execution failed.
2024-10-09 15:17:22.331 +03:00 [INF] Request origin http://localhost:5153 does not have permission to access the resource.
2024-10-09 15:17:22.334 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 15:17:22.349 +03:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ToDoList.Application.DTOs.User.UserCreateDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 15:17:22.518 +03:00 [INF] Executing action method ToDoList.API.Controllers.AuthController.Register (ToDoList.API) - Validation state: "Valid"
2024-10-09 15:17:22.524 +03:00 [INF] Creating new user with email: test4@gmail.com
2024-10-09 15:17:23.174 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Email", t."PasswordHash", t0."Id", t0."CreatedTime", t0."Description", t0."IsCompleted", t0."LastUpdateTime", t0."Title", t0."UserId"
FROM (
    SELECT u."Id", u."Email", u."PasswordHash"
    FROM "Users" AS u
    WHERE u."Email" = @__email_0
    LIMIT 1
) AS t
LEFT JOIN "Tasks" AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id"
2024-10-09 15:17:23.507 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[@p0='?', @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Email", "PasswordHash")
VALUES (@p0, @p1)
RETURNING "Id";
2024-10-09 15:17:23.586 +03:00 [INF] User with ID 6 created successfully
2024-10-09 15:17:23.593 +03:00 [INF] Executed action method ToDoList.API.Controllers.AuthController.Register (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1071.2227ms.
2024-10-09 15:17:23.600 +03:00 [INF] Executing OkObjectResult, writing value of type 'ToDoList.Application.DTOs.User.UserGetDto'.
2024-10-09 15:17:23.607 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Register (ToDoList.API) in 1252.9434ms
2024-10-09 15:17:23.611 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Register (ToDoList.API)'
2024-10-09 15:17:23.616 +03:00 [INF] HTTP POST /api/Auth/register responded 200 in 1282.5790 ms
2024-10-09 15:17:23.623 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/register - 200 null application/json; charset=utf-8 1306.2662ms
2024-10-09 15:17:40.468 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Auth/login - application/json 58
2024-10-09 15:17:40.474 +03:00 [INF] CORS policy execution failed.
2024-10-09 15:17:40.477 +03:00 [INF] Request origin http://localhost:5153 does not have permission to access the resource.
2024-10-09 15:17:40.479 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.AuthController.Login (ToDoList.API)'
2024-10-09 15:17:40.669 +03:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ToDoList.Application.DTOs.User.UserLoginDto) on controller ToDoList.API.Controllers.AuthController (ToDoList.API).
2024-10-09 15:17:40.678 +03:00 [INF] Executing action method ToDoList.API.Controllers.AuthController.Login (ToDoList.API) - Validation state: "Valid"
2024-10-09 15:17:40.685 +03:00 [INF] Fetching user with email test4@gmail.com
2024-10-09 15:17:40.831 +03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Email", t."PasswordHash", t0."Id", t0."CreatedTime", t0."Description", t0."IsCompleted", t0."LastUpdateTime", t0."Title", t0."UserId"
FROM (
    SELECT u."Id", u."Email", u."PasswordHash"
    FROM "Users" AS u
    WHERE u."Email" = @__email_0
    LIMIT 1
) AS t
LEFT JOIN "Tasks" AS t0 ON t."Id" = t0."UserId"
ORDER BY t."Id"
2024-10-09 15:17:40.843 +03:00 [INF] User with email test4@gmail.com fetched successfully
2024-10-09 15:17:40.919 +03:00 [INF] Executed action method ToDoList.API.Controllers.AuthController.Login (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 237.4077ms.
2024-10-09 15:17:40.922 +03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-10-09 15:17:40.940 +03:00 [INF] Executed action ToDoList.API.Controllers.AuthController.Login (ToDoList.API) in 267.224ms
2024-10-09 15:17:40.943 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.AuthController.Login (ToDoList.API)'
2024-10-09 15:17:40.945 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 466.4854 ms
2024-10-09 15:17:40.951 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Auth/login - 200 null application/json; charset=utf-8 482.755ms
2024-10-09 15:18:46.730 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Tasks - application/json 133
2024-10-09 15:18:46.735 +03:00 [INF] CORS policy execution failed.
2024-10-09 15:18:46.736 +03:00 [INF] Request origin http://localhost:5153 does not have permission to access the resource.
2024-10-09 15:18:46.738 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.TasksController.AddTask (ToDoList.API)'
2024-10-09 15:18:46.773 +03:00 [INF] Route matched with {action = "AddTask", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoList.Application.DTOs.Task.TaskGetDto]] AddTask(ToDoList.Application.DTOs.Task.TaskCreateDto) on controller ToDoList.API.Controllers.TasksController (ToDoList.API).
2024-10-09 15:18:46.874 +03:00 [INF] Executing action method ToDoList.API.Controllers.TasksController.AddTask (ToDoList.API) - Validation state: "Valid"
2024-10-09 15:18:46.882 +03:00 [INF] Executed action ToDoList.API.Controllers.TasksController.AddTask (ToDoList.API) in 103.6298ms
2024-10-09 15:18:46.885 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.TasksController.AddTask (ToDoList.API)'
2024-10-09 15:18:46.888 +03:00 [ERR] HTTP POST /api/Tasks responded 500 in 150.3045 ms
System.NullReferenceException: Object reference not set to an instance of an object.
   at ToDoList.API.Controllers.TasksController.GetCurrentUserId() in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API\Controllers\TasksController.cs:line 23
   at ToDoList.API.Controllers.TasksController.AddTask(TaskCreateDto taskDto) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API\Controllers\TasksController.cs:line 85
   at lambda_method101(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-10-09 15:18:46.925 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at ToDoList.API.Controllers.TasksController.GetCurrentUserId() in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API\Controllers\TasksController.cs:line 23
   at ToDoList.API.Controllers.TasksController.AddTask(TaskCreateDto taskDto) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API\Controllers\TasksController.cs:line 85
   at lambda_method101(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-09 15:18:46.956 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Tasks - 500 null text/plain; charset=utf-8 226.5209ms
2024-10-09 15:22:22.780 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Tasks - application/json 133
2024-10-09 15:22:22.783 +03:00 [INF] CORS policy execution failed.
2024-10-09 15:22:22.784 +03:00 [INF] Request origin http://localhost:5153 does not have permission to access the resource.
2024-10-09 15:22:22.785 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.TasksController.AddTask (ToDoList.API)'
2024-10-09 15:22:22.788 +03:00 [INF] Route matched with {action = "AddTask", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoList.Application.DTOs.Task.TaskGetDto]] AddTask(ToDoList.Application.DTOs.Task.TaskCreateDto) on controller ToDoList.API.Controllers.TasksController (ToDoList.API).
2024-10-09 15:22:22.797 +03:00 [INF] Executing action method ToDoList.API.Controllers.TasksController.AddTask (ToDoList.API) - Validation state: "Valid"
2024-10-09 15:22:22.800 +03:00 [INF] Executed action ToDoList.API.Controllers.TasksController.AddTask (ToDoList.API) in 9.7475ms
2024-10-09 15:22:22.802 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.TasksController.AddTask (ToDoList.API)'
2024-10-09 15:22:22.804 +03:00 [ERR] HTTP POST /api/Tasks responded 500 in 18.8586 ms
System.NullReferenceException: Object reference not set to an instance of an object.
   at ToDoList.API.Controllers.TasksController.GetCurrentUserId() in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API\Controllers\TasksController.cs:line 23
   at ToDoList.API.Controllers.TasksController.AddTask(TaskCreateDto taskDto) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API\Controllers\TasksController.cs:line 85
   at lambda_method101(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-10-09 15:22:22.814 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at ToDoList.API.Controllers.TasksController.GetCurrentUserId() in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API\Controllers\TasksController.cs:line 23
   at ToDoList.API.Controllers.TasksController.AddTask(TaskCreateDto taskDto) in C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API\Controllers\TasksController.cs:line 85
   at lambda_method101(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-10-09 15:22:22.860 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Tasks - 500 null text/plain; charset=utf-8 79.9141ms
2024-10-09 15:27:20.597 +03:00 [INF] Application is shutting down...
2024-10-09 15:27:31.717 +03:00 [INF] Starting up the app
2024-10-09 15:27:31.785 +03:00 [INF] User profile is available. Using 'C:\Users\semen\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-09 15:27:31.899 +03:00 [INF] Now listening on: http://localhost:5153
2024-10-09 15:27:31.902 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-09 15:27:31.903 +03:00 [INF] Hosting environment: Development
2024-10-09 15:27:31.904 +03:00 [INF] Content root path: C:\ITProjects\.Net\!PetProjects\ToDoList\ToDoList.API
2024-10-09 15:27:32.644 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.html - null null
2024-10-09 15:27:32.855 +03:00 [INF] HTTP GET /index.html responded 200 in 139.2054 ms
2024-10-09 15:27:32.861 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.html - 200 null text/html;charset=utf-8 219.0643ms
2024-10-09 15:27:32.958 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.js - null null
2024-10-09 15:27:32.965 +03:00 [INF] HTTP GET /index.js responded 200 in 1.4289 ms
2024-10-09 15:27:32.968 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.js - 200 null application/javascript;charset=utf-8 9.6643ms
2024-10-09 15:27:34.770 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - null null
2024-10-09 15:27:34.913 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 134.3438 ms
2024-10-09 15:27:34.916 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 145.7369ms
2024-10-09 15:28:15.263 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/api/Tasks - null null
2024-10-09 15:28:15.276 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.TasksController.GetAllTasks (ToDoList.API)'
2024-10-09 15:28:15.305 +03:00 [INF] Route matched with {action = "GetAllTasks", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ToDoList.Application.DTOs.Task.TaskGetDto]]] GetAllTasks() on controller ToDoList.API.Controllers.TasksController (ToDoList.API).
2024-10-09 15:28:15.449 +03:00 [INF] Executing action method ToDoList.API.Controllers.TasksController.GetAllTasks (ToDoList.API) - Validation state: "Valid"
2024-10-09 15:28:15.510 +03:00 [INF] Fetching all tasks for user 6
2024-10-09 15:28:17.726 +03:00 [INF] Executed DbCommand (137ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedTime", t."Description", t."IsCompleted", t."LastUpdateTime", t."Title", t."UserId", t1."TaskId", t1."TagId", t1."Id", t1."Name"
FROM "Tasks" AS t
LEFT JOIN (
    SELECT t0."TaskId", t0."TagId", t2."Id", t2."Name"
    FROM "TaskTagAssociations" AS t0
    INNER JOIN "Tags" AS t2 ON t0."TagId" = t2."Id"
) AS t1 ON t."Id" = t1."TaskId"
WHERE t."UserId" = @__userId_0
ORDER BY t."Id", t1."TaskId", t1."TagId"
2024-10-09 15:28:17.791 +03:00 [INF] Fetched 0 tasks for user 6
2024-10-09 15:28:17.800 +03:00 [INF] Executed action method ToDoList.API.Controllers.TasksController.GetAllTasks (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2343.639ms.
2024-10-09 15:28:17.816 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ToDoList.Application.DTOs.Task.TaskGetDto, ToDoList.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 15:28:17.930 +03:00 [INF] Executed action ToDoList.API.Controllers.TasksController.GetAllTasks (ToDoList.API) in 2611.0759ms
2024-10-09 15:28:17.938 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.TasksController.GetAllTasks (ToDoList.API)'
2024-10-09 15:28:17.942 +03:00 [INF] HTTP GET /api/Tasks responded 200 in 2670.5401 ms
2024-10-09 15:28:17.970 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/api/Tasks - 200 null application/json; charset=utf-8 2707.4083ms
2024-10-09 15:29:00.808 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5153/api/Tasks - application/json 133
2024-10-09 15:29:00.822 +03:00 [INF] CORS policy execution failed.
2024-10-09 15:29:00.825 +03:00 [INF] Request origin http://localhost:5153 does not have permission to access the resource.
2024-10-09 15:29:00.829 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.TasksController.AddTask (ToDoList.API)'
2024-10-09 15:29:00.849 +03:00 [INF] Route matched with {action = "AddTask", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[ToDoList.Application.DTOs.Task.TaskGetDto]] AddTask(ToDoList.Application.DTOs.Task.TaskCreateDto) on controller ToDoList.API.Controllers.TasksController (ToDoList.API).
2024-10-09 15:29:00.976 +03:00 [INF] Executing action method ToDoList.API.Controllers.TasksController.AddTask (ToDoList.API) - Validation state: "Valid"
2024-10-09 15:29:00.982 +03:00 [INF] Creating new task
2024-10-09 15:29:01.330 +03:00 [INF] Executed DbCommand (195ms) [Parameters=[@__tagIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."Name"
FROM "Tags" AS t
WHERE t."Id" = ANY (@__tagIds_0)
2024-10-09 15:29:01.824 +03:00 [INF] Executed DbCommand (86ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?', @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tasks" ("CreatedTime", "Description", "IsCompleted", "LastUpdateTime", "Title", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5)
RETURNING "Id";
2024-10-09 15:29:01.922 +03:00 [INF] Task created successfully with ID 1
2024-10-09 15:29:02.031 +03:00 [INF] Executed action method ToDoList.API.Controllers.TasksController.AddTask (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 1052.2722ms.
2024-10-09 15:29:02.037 +03:00 [INF] Executing CreatedAtActionResult, writing value of type 'ToDoList.Application.DTOs.Task.TaskGetDto'.
2024-10-09 15:29:02.127 +03:00 [INF] Executed action ToDoList.API.Controllers.TasksController.AddTask (ToDoList.API) in 1275.1807ms
2024-10-09 15:29:02.132 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.TasksController.AddTask (ToDoList.API)'
2024-10-09 15:29:02.138 +03:00 [INF] HTTP POST /api/Tasks responded 201 in 1309.1087 ms
2024-10-09 15:29:02.146 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5153/api/Tasks - 201 null application/json; charset=utf-8 1338.7387ms
2024-10-09 15:29:27.059 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/api/Tasks - null null
2024-10-09 15:29:27.065 +03:00 [INF] Executing endpoint 'ToDoList.API.Controllers.TasksController.GetAllTasks (ToDoList.API)'
2024-10-09 15:29:27.067 +03:00 [INF] Route matched with {action = "GetAllTasks", controller = "Tasks"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[ToDoList.Application.DTOs.Task.TaskGetDto]]] GetAllTasks() on controller ToDoList.API.Controllers.TasksController (ToDoList.API).
2024-10-09 15:29:27.085 +03:00 [INF] Executing action method ToDoList.API.Controllers.TasksController.GetAllTasks (ToDoList.API) - Validation state: "Valid"
2024-10-09 15:29:27.091 +03:00 [INF] Fetching all tasks for user 6
2024-10-09 15:29:27.185 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedTime", t."Description", t."IsCompleted", t."LastUpdateTime", t."Title", t."UserId", t1."TaskId", t1."TagId", t1."Id", t1."Name"
FROM "Tasks" AS t
LEFT JOIN (
    SELECT t0."TaskId", t0."TagId", t2."Id", t2."Name"
    FROM "TaskTagAssociations" AS t0
    INNER JOIN "Tags" AS t2 ON t0."TagId" = t2."Id"
) AS t1 ON t."Id" = t1."TaskId"
WHERE t."UserId" = @__userId_0
ORDER BY t."Id", t1."TaskId", t1."TagId"
2024-10-09 15:29:27.211 +03:00 [INF] Fetched 1 tasks for user 6
2024-10-09 15:29:27.214 +03:00 [INF] Executed action method ToDoList.API.Controllers.TasksController.GetAllTasks (ToDoList.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 122.9585ms.
2024-10-09 15:29:27.216 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ToDoList.Application.DTOs.Task.TaskGetDto, ToDoList.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-09 15:29:27.219 +03:00 [INF] Executed action ToDoList.API.Controllers.TasksController.GetAllTasks (ToDoList.API) in 147.8407ms
2024-10-09 15:29:27.224 +03:00 [INF] Executed endpoint 'ToDoList.API.Controllers.TasksController.GetAllTasks (ToDoList.API)'
2024-10-09 15:29:27.226 +03:00 [INF] HTTP GET /api/Tasks responded 200 in 161.0320 ms
2024-10-09 15:29:27.230 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/api/Tasks - 200 null application/json; charset=utf-8 170.2052ms
2024-10-09 18:06:03.964 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/index.js - null null
2024-10-09 18:06:03.979 +03:00 [INF] HTTP GET /index.js responded 200 in 0.5442 ms
2024-10-09 18:06:03.984 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/index.js - 200 null application/javascript;charset=utf-8 19.9726ms
2024-10-09 18:06:06.449 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - null null
2024-10-09 18:06:06.486 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 30.8223 ms
2024-10-09 18:06:06.491 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5153/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.9444ms
2024-10-09 19:01:00.546 +03:00 [INF] Application is shutting down...
